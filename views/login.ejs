<!-- Garrett Ashcroft, Zach Tullis, Zack Olsen, Jake McGuire
Section 2 Group 5
INTEX Fall 2023 Website
This website is about social media and mental health. This allows the user to log in and (with correct username and matching password) it'll redirect them into the user Landing Page -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Login</title>
    <link rel="icon" type="image/x-icon" href="/ProvoFavIcon.png" />
    <!-- Font Awesome icons-->
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Tinos:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&amp;display=swap" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="/styles.css" rel="stylesheet" />
</head>
<body>
    <!-- Navigation Bar: Links to all pages allowed for everybody-->
    <nav class="navbar navbar-expand-lg fixed-top" id="mainNav">
        <div class="container px-4 px-lg-5">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link text-white" href="/" id="homeView" name="homeView">Home</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="/socialmedia" id="surveyView" name="surveyView">Survey</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="/insights" id="insightView" name="insightView">Insights</a></li>
                <li class="nav-item"><a class="nav-link text-white" href="/login" id="loginView" name="loginView">Login</a></li>
            </ul>
        </div>
    </nav>
    <!-- Background Video-->
    <video class="bg-video" playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop"><source src="/mp4/Provo.mp4" type="video/mp4" /></video>
    <!-- Masthead-->
    <div class="masthead">
        <div class="masthead-content text-white">
            <div class="container-fluid px-4 px-lg-0" id="LoginToAccount"> 
                <!--This form allows the user to type in a username and password to enter the user views-->
                <form id="loginForm" action="/login" method="POST">
                    <div class="row input-group-newsletter" style="width: 450px">
                        <div class="col">
                            <h1 class="fst-italic lh-1 mb-4">Login to Account</h1>
                <!--This ejs prints an error message and clears the input boxes if the username and password don't match or aren't in the database (meaning the login information is incorrect)-->
                <% if (typeof error !== 'undefined' && error) { %>
                    <p style="color: red;"><%= error %></p>
                <% } else if (typeof admin_id !== 'undefined') { %>
                    <% /* Set admin_id in localStorage */ %>
                    <script>
                        localStorage.setItem('admin_id', '<%= admin_id %>');
                        let adminId = localStorage.getItem('admin_id');
                        alert(adminId);
                    </script>
                <% } %> 
                            <!--Input box to type your username-->
                            <label for="username">Username</label>
                            <input type="text" class="form-control" placeholder="Enter your username..." id="username" name="username" required>
                        </div>
                    </div>
                    <br>
                    
                    <div class="row input-group-newsletter" style="width: 450px">
                        <div class="col">
                            <!--Input box to type your password-->
                            <label for="password">Password</label>
                            <input type="password" class="form-control" placeholder="Enter your password..." id="password" name="password" required>
                            <br><br>
                        </div>
                    </div>
                    <br>
                    <!--This is the login button that submits the form and if the username and password are correct and matching, it'll take them to either the admin pages or the user pages-->
                    <button type="submit" class="btn btn-primary" style="width:150px">Login</button>
                </form>
                <br><br><br>
                <!--Only an admin can create accounts for users, thus this message helps everybody know who to contact to create an account-->
                <h3>Contact Provo City to Create Account</h3>
                <br>
            </div>
        </div>
    </div>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="/scripts.js"></script>
    <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>  
</body>
</html>